{"version":3,"sources":["api/Database.js","api/Authentication.js","components/Login.js","components/ClassList.js","components/Profile.js","components/EditProfile.js","components/ClassInfo.js","components/Student.js","App.js","index.js"],"names":["firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","database","getDataClassMember","Promise","resolve","reject","ref","on","snapshot","ClassMember","forEach","element","push","val","getDataStudent","Student","HMAC_SHA256","PASSWORD","SALT","Crypto","HmacSHA256","toString","Login","props","state","e","this","setState","target","name","value","preventDefault","account","username","toLowerCase","password","checkAccount","className","onSubmit","handleSubmit","htmlFor","id","onChange","handleChange","type","autoComplete","required","onClick","alert","Component","ClassList","DataClassMember","classes","studentid","classid","getData","getClassId","changeStatus","map","index","handleClick","mapClass","renderClassList","Profile","DataStudent","student","filter","signOut","parseInt","gender","dateofbirth","phone","renderProfile","EditProfile","checked","length","BASE64","salt","i","Math","floor","random","CREATE_SALT","HASH","hash","studentKey","key","child","set","defaultValue","disabled","renderEditProfile","ClassInfo","render","Class","DataClass","Course","DataCourse","courseid","Teacher","DataTeacher","teacherid","classInfo","coursename","count","score","teachername","teacherphone","renderClassInfo","status","option","App","JSON","parse","sessionStorage","getItem","students","setItem","stringify","clear","renderApp","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.cb735a24.chunk.js","sourcesContent":["import firebase from 'firebase/app';\r\nimport 'firebase/database';\r\n\r\nvar Config = {\r\n  apiKey: \"AIzaSyDu7RYF7A3eaC2uedmAEUFyz1u14d1def4\",\r\n  authDomain: \"class-104.firebaseapp.com\",\r\n  databaseURL: \"https://class-104.firebaseio.com\",\r\n  projectId: \"class-104\",\r\n  storageBucket: \"class-104.appspot.com\",\r\n  messagingSenderId: \"642296584585\",\r\n  appId: \"1:642296584585:web:a63c7c9e96c03e203e6958\"\r\n};\r\n// Initialize Firebase\r\n\r\nfirebase.initializeApp(Config);\r\n\r\n// API\r\nconst database = firebase.database();\r\n\r\nfunction getDataClass() {\r\n  return new Promise((resolve, reject) => {\r\n    database.ref(\"class\").on(\"value\", (snapshot) => {\r\n      let Class = [];\r\n      snapshot.forEach((element) => {\r\n        Class.push(element.val());\r\n      })\r\n      resolve(Class)\r\n    })\r\n  })\r\n}\r\n\r\nfunction getDataClassMember() {\r\n  return new Promise((resolve, reject) => {\r\n    database.ref(\"class_member\").on(\"value\", (snapshot) => {\r\n      let ClassMember = [];\r\n      snapshot.forEach((element) => {\r\n        ClassMember.push(element.val());\r\n      })\r\n      resolve(ClassMember)\r\n    })\r\n  })\r\n}\r\n\r\nfunction getDataCourse() {\r\n  return new Promise((resolve, reject) => {\r\n    database.ref(\"course\").on(\"value\", (snapshot) => {\r\n      let Course = [];\r\n      snapshot.forEach((element) => {\r\n        Course.push(element.val());\r\n      })\r\n      resolve(Course)\r\n    })\r\n  })\r\n}\r\n\r\nfunction getDataStudent() {\r\n  return new Promise((resolve, reject) => {\r\n    database.ref(\"student\").on(\"value\", (snapshot) => {\r\n      let Student = [];\r\n      snapshot.forEach((element) => {\r\n        Student.push(element.val());\r\n      })\r\n      resolve(Student)\r\n    })\r\n  })\r\n}\r\n\r\nfunction getDataTeacher() {\r\n  return new Promise((resolve, reject) => {\r\n    database.ref(\"teacher\").on(\"value\", (snapshot) => {\r\n      let Teacher = [];\r\n      snapshot.forEach((element) => {\r\n        Teacher.push(element.val());\r\n      })\r\n      resolve(Teacher)\r\n    })\r\n  })\r\n}\r\n\r\nexport {\r\n  database,\r\n  getDataClass,\r\n  getDataClassMember,\r\n  getDataCourse,\r\n  getDataStudent,\r\n  getDataTeacher\r\n}","import Crypto from \"crypto-js\";\r\n\r\nexport function CREATE_SALT(length) {\r\n    const BASE64 = [\r\n        \"a\", \"b\", \"c\", \"d\", \"e\", \"f\", \"g\", \"h\", \"i\", \"j\", \"k\", \"l\", \"m\", \"n\", \"o\", \"p\", \"q\", \"r\", \"s\", \"t\", \"u\", \"v\", \"w\", \"x\", \"y\", \"z\",\r\n        \"A\", \"B\", \"C\", \"D\", \"E\", \"F\", \"G\", \"H\", \"I\", \"J\", \"K\", \"L\", \"M\", \"N\", \"O\", \"P\", \"Q\", \"R\", \"S\", \"T\", \"U\", \"V\", \"W\", \"X\", \"Y\", \"Z\",\r\n        \"0\", \"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \"+\", \"/\"\r\n    ];\r\n\r\n    let salt = \"\";\r\n    for (let i = 0; i < length; i++) {\r\n        const RANDOM_INDEX = Math.floor(Math.random() * BASE64.length);\r\n        salt += BASE64[RANDOM_INDEX];\r\n    }\r\n\r\n    return salt\r\n}\r\n\r\nexport function HMAC_SHA256(PASSWORD, SALT) {\r\n    const SECRET_KEY = \"lhrYDV62\";\r\n    const CIPHER_TEXT = Crypto.HmacSHA256(PASSWORD + SALT, SECRET_KEY).toString();\r\n    return CIPHER_TEXT\r\n}","import React, { Component } from \"react\";\r\n\r\n//TODO SCSS\r\nimport \"../scss/Login.scss\";\r\n\r\nclass Login extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {};\r\n\t}\r\n\r\n\thandleChange(e) {\r\n\t\tthis.setState({\r\n\t\t\t[e.target.name]: e.target.value,\r\n\t\t});\r\n\t}\r\n\r\n\thandleSubmit(e) {\r\n\t\te.preventDefault();\r\n\t\tconst account = {\r\n\t\t\tusername: this.state.username.toLowerCase(),\r\n\t\t\tpassword: this.state.password,\r\n\t\t};\r\n\t\tthis.props.checkAccount(account);\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className=\"login\">\r\n\t\t\t\t<form onSubmit={(e) => this.handleSubmit(e)}>\r\n\t\t\t\t\t<h1>HỌC SINH</h1>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<label htmlFor=\"login_username\">TÀI KHOẢN</label>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\tname=\"username\"\r\n\t\t\t\t\t\t\tid=\"login_username\"\r\n\t\t\t\t\t\t\tonChange={(e) => this.handleChange(e)}\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tautoComplete=\"Off\"\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<label htmlFor=\"login_password\">MẬT KHẨU</label>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\tname=\"password\"\r\n\t\t\t\t\t\t\tid=\"login_password\"\r\n\t\t\t\t\t\t\tonChange={(e) => this.handleChange(e)}\r\n\t\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\t\tautoComplete=\"Off\"\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<p onClick={() => alert(\"Chưa phát triển.\")}>\r\n\t\t\t\t\t\tQuên mật khẩu?\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<button type=\"submit\">ĐĂNG NHẬP</button>\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Login;\r\n","import React, { Component } from \"react\";\r\n\r\n//TODO API\r\nimport { getDataClassMember } from \"../api/Database\";\r\n\r\n//TODO SCSS\r\nimport \"../scss/ClassList.scss\";\r\n\r\nclass ClassList extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {};\r\n\t}\r\n\r\n\tasync getData() {\r\n\t\tconst DataClassMember = await getDataClassMember();\r\n\t\tlet classes = [];\r\n\t\tDataClassMember.forEach((element) => {\r\n\t\t\tif (element.studentid === this.props.studentid) {\r\n\t\t\t\tclasses.push(element.classid);\r\n\t\t\t}\r\n\t\t});\r\n\t\tthis.setState({ classes: classes });\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.getData();\r\n\t}\r\n\r\n\thandleClick(element) {\r\n\t\tthis.props.getClassId(element);\r\n\t\tthis.props.changeStatus(\"CLASS_INFO\");\r\n\t}\r\n\r\n\tmapClass() {\r\n\t\treturn this.state.classes.map((element, index) => (\r\n\t\t\t<tr key={index}>\r\n\t\t\t\t<td>{index + 1}</td>\r\n\t\t\t\t<td>{element}</td>\r\n\t\t\t\t<td>\r\n\t\t\t\t\t<button onClick={() => this.handleClick(element)}>\r\n\t\t\t\t\t\tXem\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\t\t));\r\n\t}\r\n\r\n\trenderClassList() {\r\n\t\tif (this.state.classes) {\r\n\t\t\treturn (\r\n\t\t\t\t<div className=\"class_list\">\r\n\t\t\t\t\t<h1>Danh sách lớp</h1>\r\n\t\t\t\t\t<table>\r\n\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<th>STT</th>\r\n\t\t\t\t\t\t\t\t<th>Mã lớp</th>\r\n\t\t\t\t\t\t\t\t<th>Chức năng</th>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t{this.mapClass()}\r\n\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t</table>\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn <div className=\"container\">{this.renderClassList()}</div>;\r\n\t}\r\n}\r\n\r\nexport default ClassList;\r\n","import React, { Component } from \"react\";\r\n\r\n//TODO API\r\nimport { getDataStudent } from \"../api/Database\";\r\n\r\n//TODO SCSS\r\nimport \"../scss/Profile.scss\";\r\n\r\nclass Profile extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {};\r\n\t}\r\n\r\n\tasync getData() {\r\n\t\tconst DataStudent = await getDataStudent();\r\n\t\tconst student = DataStudent.filter(\r\n\t\t\t(element) => element.studentid === this.props.studentid\r\n\t\t)[0];\r\n\t\tthis.setState({ student: student });\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.getData();\r\n\t}\r\n\r\n\trenderProfile() {\r\n\t\tif (this.state.student) {\r\n\t\t\treturn (\r\n\t\t\t\t<div className=\"profile\">\r\n\t\t\t\t\t<h1>Thông tin cá nhân</h1>\r\n\t\t\t\t\t<div className=\"btn\">\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\tthis.props.changeStatus(\"EDIT_PROFILE\")\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tSửa thông tin\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t<button onClick={() => this.props.signOut()}>\r\n\t\t\t\t\t\t\tĐăng xuất\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<h2>Tài khoản</h2>\r\n\t\t\t\t\t\t\t<p>{this.state.student.username}</p>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<h2>Họ và tên</h2>\r\n\t\t\t\t\t\t\t<p>{this.state.student.name}</p>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<h2>Giới tính</h2>\r\n\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t{parseInt(this.state.student.gender)\r\n\t\t\t\t\t\t\t\t\t? \"Nữ\"\r\n\t\t\t\t\t\t\t\t\t: \"Nam\"}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<h2>Ngày sinh</h2>\r\n\t\t\t\t\t\t\t<p>{this.state.student.dateofbirth}</p>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<h2>Số điện thoại</h2>\r\n\t\t\t\t\t\t\t<p>{this.state.student.phone}</p>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn <div className=\"container\">{this.renderProfile()}</div>;\r\n\t}\r\n}\r\n\r\nexport default Profile;\r\n","import React, { Component } from \"react\";\r\n\r\n//TODO API\r\nimport { getDataStudent, database } from \"../api/Database\";\r\nimport { CREATE_SALT, HMAC_SHA256 } from \"../api/Authentication\";\r\n\r\n//TODO SCSS\r\nimport \"../scss/EditProfile.scss\";\r\n\r\nclass EditProfile extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {};\r\n\t}\r\n\r\n\tasync getData() {\r\n\t\tconst DataStudent = await getDataStudent();\r\n\t\tconst student = DataStudent.filter(\r\n\t\t\t(element) => element.studentid === this.props.studentid\r\n\t\t)[0];\r\n\t\tthis.setState({ student: student });\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.getData();\r\n\t}\r\n\r\n\thandleChange(e) {\r\n\t\tconst target = e.target;\r\n\t\tlet value = target.type === \"checkbox\" ? target.checked : target.value;\r\n\t\tconst name = target.name;\r\n\t\tconst SALT = CREATE_SALT(10);\r\n\r\n\t\tif (name === \"password\") {\r\n\t\t\tconst HASH = HMAC_SHA256(value, SALT);\r\n\t\t\tthis.setState({\r\n\t\t\t\tstudent: { ...this.state.student, salt: SALT, hash: HASH },\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tthis.setState({\r\n\t\t\t\tstudent: { ...this.state.student, [name]: value },\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\thandleSubmit(e) {\r\n\t\te.preventDefault();\r\n\t\tlet studentKey;\r\n\t\tdatabase.ref(\"student\").on(\"value\", (snapshot) => {\r\n\t\t\tsnapshot.forEach((element) => {\r\n\t\t\t\tif (element.val().studentid === this.state.student.studentid) {\r\n\t\t\t\t\tstudentKey = element.key;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t\tdatabase.ref(\"student\").child(studentKey).set(this.state.student);\r\n\t\talert(\"Lưu thông tin thành công.\");\r\n\t\tthis.props.changeStatus(\"PROFILE\");\r\n\t}\r\n\r\n\trenderEditProfile() {\r\n\t\tif (this.state.student) {\r\n\t\t\treturn (\r\n\t\t\t\t<div className=\"edit_profile\">\r\n\t\t\t\t\t<h1>Sửa thông tin cá nhân</h1>\r\n\t\t\t\t\t<form onSubmit={(e) => this.handleSubmit(e)}>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<label>Tài khoản</label>\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\tname=\"username\"\r\n\t\t\t\t\t\t\t\tdefaultValue={this.state.student.username}\r\n\t\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<label>Mật khẩu</label>\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\t\t\tname=\"password\"\r\n\t\t\t\t\t\t\t\tonChange={(e) => this.handleChange(e)}\r\n\t\t\t\t\t\t\t\tautoComplete=\"off\"\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<label>Họ và tên</label>\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\tname=\"name\"\r\n\t\t\t\t\t\t\t\tdefaultValue={this.state.student.name}\r\n\t\t\t\t\t\t\t\tonChange={(e) => this.handleChange(e)}\r\n\t\t\t\t\t\t\t\tautoComplete=\"off\"\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<label>Giới tính</label>\r\n\t\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\t\tname=\"gender\"\r\n\t\t\t\t\t\t\t\tdefaultValue={this.state.student.gender}\r\n\t\t\t\t\t\t\t\tonChange={(e) => this.handleChange(e)}\r\n\t\t\t\t\t\t\t\tautoComplete=\"off\"\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<option value={0}>Nam</option>\r\n\t\t\t\t\t\t\t\t<option value={1}>Nữ</option>\r\n\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<label>Ngày sinh</label>\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\ttype=\"date\"\r\n\t\t\t\t\t\t\t\tname=\"dateofbirth\"\r\n\t\t\t\t\t\t\t\tdefaultValue={this.state.student.dateofbirth}\r\n\t\t\t\t\t\t\t\tonChange={(e) => this.handleChange(e)}\r\n\t\t\t\t\t\t\t\tautoComplete=\"off\"\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<label>Số điện thoại</label>\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\tname=\"phone\"\r\n\t\t\t\t\t\t\t\tdefaultValue={this.state.student.phone}\r\n\t\t\t\t\t\t\t\tonChange={(e) => this.handleChange(e)}\r\n\t\t\t\t\t\t\t\tautoComplete=\"off\"\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<button type=\"submit\">Lưu</button>\r\n\t\t\t\t\t</form>\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn <div className=\"container\">{this.renderEditProfile()}</div>;\r\n\t}\r\n}\r\n\r\nexport default EditProfile;\r\n","import React, { Component } from \"react\";\r\n\r\n//TODO API\r\nimport {\r\n\tgetDataClassMember,\r\n\tgetDataClass,\r\n\tgetDataCourse,\r\n\tgetDataTeacher,\r\n} from \"../api/Database\";\r\n\r\n//TODO SCSS\r\nimport \"../scss/ClassInfo.scss\";\r\n\r\nclass ClassInfo extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\trender: 0,\r\n\t\t};\r\n\t}\r\n\r\n\tasync getData() {\r\n\t\tconst DataClassMember = await getDataClassMember();\r\n\t\tconst ClassMember = DataClassMember.filter(\r\n\t\t\t(element) =>\r\n\t\t\t\telement.classid === this.props.classid &&\r\n\t\t\t\telement.studentid === this.props.studentid\r\n\t\t)[0];\r\n\r\n\t\tconst DataClass = await getDataClass();\r\n\t\tconst Class = DataClass.filter(\r\n\t\t\t(element) => element.classid === this.props.classid\r\n\t\t)[0];\r\n\r\n\t\tconst DataCourse = await getDataCourse();\r\n\t\tconst Course = DataCourse.filter(\r\n\t\t\t(element) => element.courseid === Class.courseid\r\n\t\t)[0];\r\n\r\n\t\tconst DataTeacher = await getDataTeacher();\r\n\t\tconst Teacher = DataTeacher.filter(\r\n\t\t\t(element) => element.teacherid === Class.teacherid\r\n\t\t)[0];\r\n\r\n\t\tconst classInfo = {\r\n\t\t\tclassid: this.props.classid,\r\n\t\t\tcourseid: Course.courseid,\r\n\t\t\tcoursename: Course.name,\r\n\t\t\tstudentid: this.props.studentid,\r\n\t\t\tcount: ClassMember.count,\r\n\t\t\tscore: ClassMember.score,\r\n\t\t\tteachername: Teacher.name,\r\n\t\t\tteacherphone: Teacher.phone,\r\n\t\t};\r\n\r\n\t\tthis.setState({ classInfo: classInfo });\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.getData();\r\n\t}\r\n\r\n\trenderClassInfo() {\r\n\t\tif (this.state.classInfo) {\r\n\t\t\treturn (\r\n\t\t\t\t<div className=\"class_info\">\r\n\t\t\t\t\t<h1>Thông tin lớp {this.state.classInfo.classid}</h1>\r\n\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<h2>Mã khóa học</h2>\r\n\t\t\t\t\t\t\t<p>{this.state.classInfo.courseid}</p>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<h2>Tên Khóa học</h2>\r\n\t\t\t\t\t\t\t<p>{this.state.classInfo.coursename}</p>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<h2>Mã lớp học</h2>\r\n\t\t\t\t\t\t\t<p>{this.state.classInfo.classid}</p>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<h2>Mã học sinh</h2>\r\n\t\t\t\t\t\t\t<p>{this.state.classInfo.studentid}</p>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<h2>Số buổi học</h2>\r\n\t\t\t\t\t\t\t<p>{this.state.classInfo.count}</p>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<h2>Điểm</h2>\r\n\t\t\t\t\t\t\t<p>{this.state.classInfo.score}</p>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<h2>Giáo viên phụ trách</h2>\r\n\t\t\t\t\t\t\t<p>{this.state.classInfo.teachername}</p>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<h2>Số điện thoại</h2>\r\n\t\t\t\t\t\t\t<p>{this.state.classInfo.teacherphone}</p>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn <div className=\"container\">{this.renderClassInfo()}</div>;\r\n\t}\r\n}\r\n\r\nexport default ClassInfo;\r\n","import React, { Component } from \"react\";\r\n\r\n//TODO COMPONENTS\r\nimport ClassList from \"./ClassList\";\r\nimport Profile from \"./Profile\";\r\nimport EditProfile from \"./EditProfile\";\r\nimport ClassInfo from \"./ClassInfo\";\r\n\r\n//TODO SCSS\r\nimport \"../scss/Student.scss\";\r\n\r\nclass Student extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tstatus: \"CLASS_LIST\",\r\n\t\t};\r\n\t}\r\n\r\n\toption() {\r\n\t\tswitch (this.state.status) {\r\n\t\t\tcase \"CLASS_LIST\":\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<ClassList\r\n\t\t\t\t\t\tstudentid={this.props.studentid}\r\n\t\t\t\t\t\tchangeStatus={(status) => this.changeStatus(status)}\r\n\t\t\t\t\t\tgetClassId={(classid) => this.getClassId(classid)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t);\r\n\t\t\tcase \"PROFILE\":\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Profile\r\n\t\t\t\t\t\tstudentid={this.props.studentid}\r\n\t\t\t\t\t\tsignOut={() => this.props.signOut()}\r\n\t\t\t\t\t\tchangeStatus={(status) => this.changeStatus(status)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t);\r\n\t\t\tcase \"EDIT_PROFILE\":\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<EditProfile\r\n\t\t\t\t\t\tstudentid={this.props.studentid}\r\n\t\t\t\t\t\tchangeStatus={(status) => this.changeStatus(status)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t);\r\n\t\t\tcase \"CLASS_INFO\":\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<ClassInfo\r\n\t\t\t\t\t\tstudentid={this.props.studentid}\r\n\t\t\t\t\t\tclassid={this.state.classid}\r\n\t\t\t\t\t/>\r\n\t\t\t\t);\r\n\t\t\tdefault:\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\r\n\tchangeStatus(status) {\r\n\t\tthis.setState({\r\n\t\t\tstatus: status,\r\n\t\t});\r\n\t}\r\n\r\n\tgetClassId(classid) {\r\n\t\tthis.setState({\r\n\t\t\tclassid: classid,\r\n\t\t});\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className=\"student\">\r\n\t\t\t\t{this.option()}\r\n\t\t\t\t<div className=\"btn\">\r\n\t\t\t\t\t<button onClick={() => this.changeStatus(\"CLASS_LIST\")}>\r\n\t\t\t\t\t\tLớp học\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t<button onClick={() => this.changeStatus(\"PROFILE\")}>\r\n\t\t\t\t\t\tCá nhân\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Student;\r\n","import React, { Component } from \"react\";\r\n\r\n//TODO API\r\nimport { getDataStudent } from \"./api/Database\";\r\nimport { HMAC_SHA256 } from \"./api/Authentication\";\r\n\r\n//TODO COMPONENTS\r\nimport Login from \"./components/Login\";\r\nimport Student from \"./components/Student\";\r\n\r\n//TODO SCSS\r\nimport \"./App.scss\";\r\n\r\nclass App extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {};\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tconst studentid = JSON.parse(sessionStorage.getItem(\"studentid\"));\r\n\t\tif (studentid) {\r\n\t\t\tthis.setState({ studentid: studentid });\r\n\t\t}\r\n\t}\r\n\r\n\tasync checkAccount(account) {\r\n\t\tconst students = await getDataStudent();\r\n\t\tconst student = students.filter(\r\n\t\t\t(student) =>\r\n\t\t\t\taccount.username === student.username &&\r\n\t\t\t\tHMAC_SHA256(account.password, student.salt) === student.hash\r\n\t\t)[0];\r\n\t\tif (student) {\r\n\t\t\talert(\"Đăng nhập thành công.\");\r\n\t\t\tthis.setState({\r\n\t\t\t\tstudentid: student.studentid,\r\n\t\t\t});\r\n\t\t\tsessionStorage.setItem(\r\n\t\t\t\t\"studentid\",\r\n\t\t\t\tJSON.stringify(student.studentid)\r\n\t\t\t);\r\n\t\t} else alert(\"Sai mật khẩu hoặc tài khoản không tồn tại.\");\r\n\t}\r\n\r\n\trenderApp() {\r\n\t\tif (this.state.studentid) {\r\n\t\t\treturn (\r\n\t\t\t\t<Student\r\n\t\t\t\t\tstudentid={this.state.studentid}\r\n\t\t\t\t\tsignOut={() => this.signOut()}\r\n\t\t\t\t/>\r\n\t\t\t);\r\n\t\t}\r\n\t\treturn <Login checkAccount={(account) => this.checkAccount(account)} />;\r\n\t}\r\n\r\n\tsignOut() {\r\n\t\tsessionStorage.clear();\r\n\t\tthis.setState({ studentid: null });\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn <div>{this.renderApp()}</div>;\r\n\t}\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.scss\";\r\nimport App from \"./App\";\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}